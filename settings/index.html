<!DOCTYPE html>
<html>
<head>
    <!-- The '/homey.js' script must be included in your settings view to work -->
    <script type="text/javascript" src="/homey.js" data-origin="settings"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body>
<div class="tab">
    <button class="tab-links" data-i18n="settings.settings" data-target="settings" id="defaultOpen">Settings</button>
    <button class="tab-links" data-i18n="settings.users" data-target="users">Users</button>
    <button class="tab-links" data-i18n="settings.questions" data-target="questions">Questions</button>
    <button class="tab-links" data-i18n="settings.logs" data-target="logs">Logs</button>
</div>

<div id="settings" class="tab-content">
    <div id="running-status" class="status not-running"></div>
    <h2 data-i18n="settings.title">
        Title
    </h2>
    <label for="bot-token" data-i18n="settings.token">Bot Token</label>
    <input id="bot-token" type="text" value=""/>
    <div style="margin-top: 1em">
        <input type="checkbox" id="usePassword">
        <label data-i18n="settings.passwordEnable" for="usePassword">Enable Password</label>
    </div>
    <div class="hidden" id="usePasswordDiv">
        <label for="bot-password" data-i18n="settings.password">Bot Password</label>
        <input id="bot-password" type="password" value=""/>
        <p style="margin-bottom: 0" data-i18n="settings.userInfoPassword">To Register a user/chat now you have to
            enter /start [yourPassword] to the bot via Telegram</p>
    </div>
    <button id="save" data-i18n="settings.save" style="width: 100%; margin-top: 1em">Save changes</button>
</div>

<div id="users" class="tab-content">
    <div id="users-list" class="users">
    </div>
    <hr>
    <p data-i18n="settings.userInfo">When you clear the users you have to re-register the
        users to the Telegram bot.
        This means you have to send the /start command again.</p>
    <button id="clear" data-i18n="settings.clear" style="width: 100%">Clear users</button>
</div>

<div id="questions" class="tab-content">
    <fieldset>
        <legend data-i18n="settings.questions">Questions</legend>
        <div id="question-list" class="users">
        </div>
        <hr>
        <p data-i18n="settings.questionInfo">Todo</p>
        <button id="clearQuestions" data-i18n="settings.clearQuestions" style="width: 100%">Clear all questions</button>
    </fieldset>
    <fieldset id="question-add-field">
        <legend data-i18n="settings.addQuestion">Add question</legend>
        <div class="col">
            <label for="question-name" data-i18n="settings.question">Question</label>
            <input id="question-name" class="question-input" type="text" value=""
                   placeholder="Do you want to close the shutters?"/>
        </div>
        <div class="row" style="margin-top: .5em; margin-bottom: .5em">
            <h2 data-i18n="settings.answers">Answers</h2>
            <button class="right" onclick="createNewInputField()" data-i18n="settings.addAnswerButton">Add answer
            </button>
        </div>
        <div class="col" id="question-answer-col">

        </div>
        <button id="addQuestion" data-i18n="settings.saveQuestion" style="width: 100%; margin-top: 1em">Save question
        </button>
    </fieldset>

    <fieldset id="question-edit-field" class="hidden">
        <legend data-i18n="settings.editQuestion">Edit question</legend>
        <div class="col">
            <label for="question-name-edit" data-i18n="settings.question">Question</label>
            <input id="question-name-edit" class="question-input" type="text" value="" placeholder="Do you want to close the shutters?"/>
        </div>
        <div class="row" style="margin-top: .5em; margin-bottom: .5em">
            <h2 data-i18n="settings.answers">Answers</h2>
            <button class="right" onclick="createNewInputFieldForEdit()" data-i18n="settings.addAnswerButton">Add answer</button>
        </div>
        <div class="col" id="question-answer-edit-col"></div>
        <button id="editQuestion" data-i18n="settings.saveEditQuestion" style="width: 100%; margin-top: 1em">Edit question</button>
    </fieldset>
</div>

<div id="logs" class="tab-content">
    <p id="logs-list"></p>
    <button id="clearLogs" style="width: 100%" data-i18n="settings.clearLogs">Clear Logs</button>
</div>

<script type="text/javascript" src="index.js"></script>
</body>
</html>
